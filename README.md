# DeepSeek ChatGPT WordPress 插件

一个功能强大的WordPress插件，在您的网站中集成DeepSeek AI问答功能，提供ChatGPT风格的对话界面。

## ✨ 主要功能

### 🎯 核心功能
- **AI问答界面**: ChatGPT风格的对话界面，支持实时交互
- **提示词包装系统**: 动态包装用户输入，确保AI回复符合特定要求
- **管理后台设置**: 完整的WordPress后台配置界面
- **短代码集成**: 通过 `[deepseek_qa]` 短代码在任何页面嵌入

### 🔧 配置选项
- **API密钥管理**: 安全的API密钥配置
- **人称设置**: 支持第一人称、第二人称、第三人称回答
- **自定义前缀/后缀**: 在用户输入前后添加固定文本
- **上下文/人设说明**: 定义AI的角色和行为模式
- **背景知识**: 注入特定领域的知识或信息

### 🚀 高级功能
- **流式输出**: 实时打字效果，提升用户体验
- **错误处理**: 完善的错误提示和自动重试机制
- **响应式设计**: 完美适配桌面端和移动端
- **多轮对话**: 支持上下文保持的连续对话

## 📋 系统要求

- **WordPress**: 5.0+
- **PHP**: 7.4+
- **MySQL**: 5.6+
- **服务器**: 支持cURL和JSON扩展
- **DeepSeek API**: 有效的API密钥

## 🛠️ 安装方法

### 1. 上传插件
将插件文件上传到WordPress的 `/wp-content/plugins/deepseek-chatgpt/` 目录

### 2. 激活插件
在WordPress后台 → 插件 → 已安装插件中激活"DeepSeek ChatGPT Q&A"

### 3. 配置设置
1. 进入 **设置 → DeepSeek设置**
2. 输入DeepSeek API URL（通常为 https://api.deepseek.com）
3. 输入您的DeepSeek API密钥
4. 配置人称设置和其他选项
5. 保存设置

### 4. 使用插件
在页面或文章中使用短代码：`[deepseek_qa]`

## ⚙️ 配置说明

### API配置设置
- **API URL**: DeepSeek API的完整访问地址，通常为 https://api.deepseek.com
- **API密钥**: 您的DeepSeek API密钥，必须配置才能使用插件功能

### 人称设置
- **第一人称**: AI使用"我/我们"来回答
- **第二人称**: AI使用"你/您"来回答  
- **第三人称**: AI使用"它/他们"来回答

### 提示词包装
- **前缀**: 在用户问题前添加的文本
- **后缀**: 在用户问题后添加的文本
- **上下文**: 定义AI的角色和行为模式
- **背景知识**: 注入特定领域的知识

## 🎨 自定义样式

插件包含现代化的ChatGPT风格界面，支持：
- 响应式设计
- 气泡式对话界面
- 平滑的动画效果
- 加载状态提示
- 错误信息显示

## 🔒 安全特性

- API密钥安全存储
- 输入验证和清理
- XSS防护
- 权限控制
- 错误信息过滤

## 🐛 故障排除

### 查看错误日志

插件会自动记录详细的调试信息到日志文件中：

**日志文件位置**: `/wp-content/plugins/deepseek-chatgpt/debug.log`

**在线查看日志**: 访问 `https://your-site.com/wp-content/plugins/deepseek-chatgpt/log-viewer.php`

**手动查看日志**:
```bash
tail -f /path/to/wordpress/wp-content/plugins/deepseek-chatgpt/debug.log
```

### 常见问题

**Q: API请求失败怎么办？**
A: 检查日志文件中的详细错误信息，确认API密钥和URL配置正确

**Q: 插件无法显示？**
A: 确保短代码 `[deepseek_qa]` 正确插入到页面中，查看日志文件确认AJAX请求是否正常

**Q: 样式显示异常？**
A: 检查主题是否与插件兼容，尝试切换主题

**Q: 如何查看详细的错误信息？**
A: 使用插件提供的日志查看器或直接查看 `debug.log` 文件

### 错误代码说明
- **401**: API密钥无效
- **429**: 请求过于频繁
- **500+**: 服务器错误

## 📝 更新日志

### v1.0.1 (最新版本)
- ✅ 添加API密钥管理
- ✅ 新增人称设置功能
- ✅ 增强错误处理和重试机制
- ✅ 改进用户界面和样式
- ✅ 优化用户体验

### v1.0.0
- ✅ 基础问答功能
- ✅ 提示词包装系统
- ✅ 管理后台设置
- ✅ 流式输出

## 🤝 技术支持

如果您遇到问题或需要帮助，请：
1. 检查本文档的故障排除部分
2. 确认系统要求是否满足
3. 查看WordPress错误日志

## 📄 许可证

本插件遵循GPL v2或更高版本许可证。

---

**注意**: 使用本插件需要有效的DeepSeek API密钥，请确保您有足够的API调用额度。 